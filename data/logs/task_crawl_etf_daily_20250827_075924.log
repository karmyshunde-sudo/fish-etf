2025-08-27 07:59:25,568 - __main__ - INFO - ===== å¼€å§‹æ‰§è¡Œä»»åŠ¡ï¼šcrawl_etf_daily =====
2025-08-27 07:59:25,568 - __main__ - INFO - å½“å‰æ—¶é—´ï¼š2025-08-27 15:59:25ï¼ˆåŒ—äº¬æ—¶é—´ï¼‰
2025-08-27 07:59:25,568 - data_crawler - INFO - ===== å¼€å§‹æ‰§è¡Œä»»åŠ¡ï¼šcrawl_etf_daily =====
2025-08-27 07:59:25,568 - data_crawler - INFO - å½“å‰æ—¶é—´ï¼š2025-08-27 15:59:25ï¼ˆåŒ—äº¬æ—¶é—´ï¼‰
2025-08-27 07:59:25,635 - data_crawler - INFO - âœ… ç¡®ä¿ç›®å½•å­˜åœ¨: /home/runner/work/fish-etf/fish-etf/data/etf_daily
2025-08-27 07:59:25,636 - data_crawler - INFO - å·²å®Œæˆçˆ¬å–çš„ETFæ•°é‡ï¼š2
2025-08-27 07:59:25,636 - data_crawler.etf_list_manager - INFO - â„¹ï¸ æ— éœ€æ›´æ–°ï¼ŒåŠ è½½æœ¬åœ°ETFåˆ—è¡¨
2025-08-27 07:59:25,639 - data_crawler.etf_list_manager - INFO - ğŸ“Š æœ‰æ•ˆETFä»£ç æ•°é‡: 2
2025-08-27 07:59:25,639 - data_crawler - INFO - å¾…çˆ¬å–ETFæ€»æ•°ï¼š2åª
2025-08-27 07:59:25,639 - data_crawler - INFO - å…±åˆ†ä¸º 1 ä¸ªæ‰¹æ¬¡ï¼Œæ¯æ‰¹ 50 åªETF
2025-08-27 07:59:25,639 - data_crawler - INFO - ==============================
2025-08-27 07:59:25,639 - data_crawler - INFO - æ­£åœ¨å¤„ç†æ‰¹æ¬¡ 1/1
2025-08-27 07:59:25,639 - data_crawler - INFO - ETFèŒƒå›´ï¼š1-2åªï¼ˆå…±2åªï¼‰
2025-08-27 07:59:25,639 - data_crawler - INFO - ==============================
2025-08-27 07:59:25,639 - data_crawler - INFO - --- æ‰¹æ¬¡1 - ç¬¬1åª / å…±2åª ---
2025-08-27 07:59:25,639 - data_crawler.etf_list_manager - INFO - â„¹ï¸ æ— éœ€æ›´æ–°ï¼ŒåŠ è½½æœ¬åœ°ETFåˆ—è¡¨
2025-08-27 07:59:25,641 - data_crawler - INFO - ETFä»£ç ï¼š563770 | åç§°ï¼šå…¨æŒ‡ç°é‡‘æµETF
2025-08-27 07:59:25,642 - data_crawler - INFO - ğŸ“… çˆ¬å–æ—¶é—´èŒƒå›´ï¼š2000-01-01 è‡³ 2025-08-27
2025-08-27 07:59:25,642 - data_crawler.akshare_crawler - ERROR - AkShareçˆ¬å–563770å¤±è´¥ï¼šmodule 'akshare' has no attribute 'etf_spot_em'
2025-08-27 07:59:27,644 - data_crawler.akshare_crawler - ERROR - AkShareçˆ¬å–563770å¤±è´¥ï¼šmodule 'akshare' has no attribute 'etf_spot_em'
2025-08-27 07:59:29,646 - data_crawler.akshare_crawler - ERROR - AkShareçˆ¬å–563770å¤±è´¥ï¼šmodule 'akshare' has no attribute 'etf_spot_em'
2025-08-27 07:59:29,646 - data_crawler - ERROR - âŒ çˆ¬å–å¤±è´¥ï¼šmodule 'akshare' has no attribute 'etf_spot_em'
Traceback (most recent call last):
  File "/home/runner/work/fish-etf/fish-etf/data_crawler/__init__.py", line 170, in crawl_etf_daily_incremental
    df = crawl_etf_daily_akshare(etf_code, start_date, end_date)
  File "/opt/hostedtoolcache/Python/3.10.18/x64/lib/python3.10/site-packages/retrying.py", line 49, in wrapped_f
    return Retrying(*dargs, **dkw).call(f, *args, **kw)
  File "/opt/hostedtoolcache/Python/3.10.18/x64/lib/python3.10/site-packages/retrying.py", line 212, in call
    raise attempt.get()
  File "/opt/hostedtoolcache/Python/3.10.18/x64/lib/python3.10/site-packages/retrying.py", line 247, in get
    six.reraise(self.value[0], self.value[1], self.value[2])
  File "/opt/hostedtoolcache/Python/3.10.18/x64/lib/python3.10/site-packages/six.py", line 724, in reraise
    raise value
  File "/opt/hostedtoolcache/Python/3.10.18/x64/lib/python3.10/site-packages/retrying.py", line 200, in call
    attempt = Attempt(fn(*args, **kwargs), attempt_number, False)
  File "/home/runner/work/fish-etf/fish-etf/data_crawler/akshare_crawler.py", line 21, in crawl_etf_daily_akshare
    df = ak.etf_spot_em(symbol=etf_code, start_date=start_date, end_date=end_date)
AttributeError: module 'akshare' has no attribute 'etf_spot_em'
2025-08-27 07:59:32,650 - data_crawler - INFO - --- æ‰¹æ¬¡1 - ç¬¬2åª / å…±2åª ---
2025-08-27 07:59:32,651 - data_crawler.etf_list_manager - INFO - â„¹ï¸ æ— éœ€æ›´æ–°ï¼ŒåŠ è½½æœ¬åœ°ETFåˆ—è¡¨
2025-08-27 07:59:32,653 - data_crawler - INFO - ETFä»£ç ï¼š563680 | åç§°ï¼š800è‡ªç”±ç°é‡‘æµETF
2025-08-27 07:59:32,653 - data_crawler - INFO - ğŸ“… çˆ¬å–æ—¶é—´èŒƒå›´ï¼š2000-01-01 è‡³ 2025-08-27
2025-08-27 07:59:32,653 - data_crawler.akshare_crawler - ERROR - AkShareçˆ¬å–563680å¤±è´¥ï¼šmodule 'akshare' has no attribute 'etf_spot_em'
2025-08-27 07:59:34,656 - data_crawler.akshare_crawler - ERROR - AkShareçˆ¬å–563680å¤±è´¥ï¼šmodule 'akshare' has no attribute 'etf_spot_em'
2025-08-27 07:59:36,658 - data_crawler.akshare_crawler - ERROR - AkShareçˆ¬å–563680å¤±è´¥ï¼šmodule 'akshare' has no attribute 'etf_spot_em'
2025-08-27 07:59:36,658 - data_crawler - ERROR - âŒ çˆ¬å–å¤±è´¥ï¼šmodule 'akshare' has no attribute 'etf_spot_em'
Traceback (most recent call last):
  File "/home/runner/work/fish-etf/fish-etf/data_crawler/__init__.py", line 170, in crawl_etf_daily_incremental
    df = crawl_etf_daily_akshare(etf_code, start_date, end_date)
  File "/opt/hostedtoolcache/Python/3.10.18/x64/lib/python3.10/site-packages/retrying.py", line 49, in wrapped_f
    return Retrying(*dargs, **dkw).call(f, *args, **kw)
  File "/opt/hostedtoolcache/Python/3.10.18/x64/lib/python3.10/site-packages/retrying.py", line 212, in call
    raise attempt.get()
  File "/opt/hostedtoolcache/Python/3.10.18/x64/lib/python3.10/site-packages/retrying.py", line 247, in get
    six.reraise(self.value[0], self.value[1], self.value[2])
  File "/opt/hostedtoolcache/Python/3.10.18/x64/lib/python3.10/site-packages/six.py", line 724, in reraise
    raise value
  File "/opt/hostedtoolcache/Python/3.10.18/x64/lib/python3.10/site-packages/retrying.py", line 200, in call
    attempt = Attempt(fn(*args, **kwargs), attempt_number, False)
  File "/home/runner/work/fish-etf/fish-etf/data_crawler/akshare_crawler.py", line 21, in crawl_etf_daily_akshare
    df = ak.etf_spot_em(symbol=etf_code, start_date=start_date, end_date=end_date)
AttributeError: module 'akshare' has no attribute 'etf_spot_em'
2025-08-27 07:59:39,661 - data_crawler - INFO - ===== æ‰€æœ‰å¾…çˆ¬å–ETFå¤„ç†å®Œæ¯• =====
2025-08-27 07:59:39,662 - __main__ - INFO - ===== ä»»åŠ¡æ‰§è¡Œç»“æŸï¼šsuccess =====
{
  "status": "success",
  "task": "crawl_etf_daily",
  "message": "ETFæ—¥çº¿æ•°æ®å¢é‡çˆ¬å–å®Œæˆ"
}
